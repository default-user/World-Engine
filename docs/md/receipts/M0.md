# M0 Receipt: Repo Bootstrap and Docs Skeleton

**Date:** 2026-02-10
**Status:** Complete

## What Shipped

### Rust Workspace Scaffolding
- Workspace root `Cargo.toml` with 8 library crates and 2 application crates.
- All crates compile and are wired with workspace dependency management.

### Crates Delivered
| Crate | Type | Contents |
|-------|------|----------|
| `worldspace-common` | lib | `EntityId` (UUID), `Transform` (pos/rot/scale), serde support |
| `worldspace-kernel` | lib | `World` struct with spawn/despawn/step, `EntityData` |
| `worldspace-persist` | lib | Placeholder (M2) |
| `worldspace-stream` | lib | Placeholder (M4) |
| `worldspace-author` | lib | Placeholder (M3) |
| `worldspace-render` | lib | Placeholder (M1) |
| `worldspace-input` | lib | `Action` enum shared by Desktop/VR, VR feature flag |
| `worldspace-tools` | lib | Placeholder (M1+) |
| `worldspace-desktop` | bin | CLI arg parsing, creates world, steps it, exits |
| `worldspace-cli` | bin | `info` subcommand printing version and crate info |
| `xtask` | bin | Workspace automation: `check`, `fmt`, `clippy`, `test`, `build` |

### CI
- `.github/workflows/ci.yml` with jobs: fmt, clippy, test (Linux/macOS/Windows), build.

### Quality Configs
- `rustfmt.toml` — edition 2024, 100 char width
- `clippy.toml` — complexity thresholds
- `deny.toml` — license allow-list, ban wildcards, advisory warnings

### Documentation
- `README.md` — overview, quick start, repo layout
- `docs/md/CHANGELOG.md` — initial entries
- `docs/md/ADR/0001-architecture.md` — one kernel, two embodiment modes
- `docs/md/postdoc-writeup.md` — full outline with formal definitions, references to code
- `docs/mdx/` — 9 MDX pages: index, architecture, kernel, persistence, authoring, streaming, rendering, vr, security-and-integrity, benchmarks

## How to Build and Run

```bash
# Build everything
cargo build --workspace

# Run all tests (11 tests across workspace)
cargo test --workspace

# Check formatting
cargo fmt --all -- --check

# Run clippy
cargo clippy --workspace --all-targets -- -D warnings

# Run the desktop app (placeholder, steps world 10 ticks and exits)
cargo run -p worldspace-desktop

# Run the desktop app with verbose logging
cargo run -p worldspace-desktop -- --verbose

# Run the CLI
cargo run -p worldspace-cli -- info

# Run all checks via xtask
cargo run -p xtask -- check
```

## Tests Added

| Crate | Test | What It Verifies |
|-------|------|-----------------|
| `worldspace-common` | `entity_id_uniqueness` | Two new EntityIds are distinct |
| `worldspace-common` | `transform_default_is_identity` | Default transform is identity |
| `worldspace-kernel` | `world_starts_empty` | New world has tick=0, 0 entities |
| `worldspace-kernel` | `spawn_and_despawn` | Spawn adds entity, despawn removes it |
| `worldspace-kernel` | `step_increments_tick` | Three steps produce tick=3 |
| `worldspace-input` | `action_move_is_constructible` | Action::Move can be constructed |
| `worldspace-persist` | `crate_loads` | Crate initializes |
| `worldspace-stream` | `crate_loads` | Crate initializes |
| `worldspace-author` | `crate_loads` | Crate initializes |
| `worldspace-render` | `crate_loads` | Crate initializes |
| `worldspace-tools` | `crate_loads` | Crate initializes |

**Total: 11 tests, all passing.**

## Known Limits

- No window or rendering (desktop app exits immediately after stepping the world).
- Placeholder crates for persist, stream, author, render, tools — contain only `crate_info()`.
- No benchmarks yet (Criterion setup deferred to M1).
- `serde_yaml` declared in workspace deps but not used by any crate yet (used in M2 for manifests).
- Deterministic replay is not yet implemented (M1).
